{
    "type": "ipvm/job",
    "version": "0.0.1",
    "requestor": "did:key:zAlice",
    "nonce": "ABCDEF",
    "config": {
        "label": "fission/run_the_reports",
        "start": "asap",
        "timeoutAt": 1667878395,
        "maxGas": 4096,
        "authz": ["QmUcan1", "QmUcan2"], // TODO move to post-negotiated?
        "visibility": "public",
        "verification": {
            "method": "ipvm/optimistic-zk",
            "min": 1,
            "replication": 2,
            "referee": "ipns://abcdefghi"
        }
    },
    "run": {
        "wasm": "bafyWasm",
        "args": [
            { "w": "Qm123456" },
            { "x": "Qmabcdef" },
            { "y": { "with": "dnslink://example.com", "run": "dnslink/resolve" } }
            { "z": "QmFooBar" },
        ],
        "affinities": [], // TODO lives here, or in
    },
    "before": {
        "database": {
            "with": "dnslink://example.com",
            "run": "dnslink/resolve"
        }
    },
    "then": {
        "effects": {
            "bell": {
                "run": "system/bell",
                "on": "always"
            }
        },
        "jobs": {
            "left": {
                "run": {
                    "wasm": "bafyWasmLeft",
                    "args": ["bafySomeArg"]
                },
                "then": {
                    "jobs": {
                        "subleft": {
                            "run": {
                                "wasm": "bafyWasmSubLeft",
                                "args":
                            }
                        }
                    }
                }
            },
            "right": {
                "run": "b"
            },
            "end": {
                "run": {
                    "wasm": "bafyWasmEnd",
                    "input": {
                        "foo": "jobs/left/subleft/"
                }
            }
        }
    },
    "signature": "abcdef"
}

{
    "type": "ipvm/deal",
    "version": "0.0.1",
    "accepter": "",
    "job": "Qmabcdef"
}
