{
  "type": "ipvm/job",
  "version": "0.1.0",
  "requestor": "did:key:zAlice",
  "nonce": "xjd72gs_k",
  "ipvm/effects": {
    "read-dns": {
      "with": "dns://_dnslink.example.com?TYPE=TXT",
      "do": "crud/read"
    },
    "check-dns": {
      "with": "dns://_dnslink.example.com?TYPE=TXT",
      "do": "crud/read",
      "await": ["end"]
    },
    "write-dns": {
      "with": "dns://_dnslink.example.com?TYPE=TXT",
      "do": "crud/update",
      "inputs": [
        { "value": { "from": "end" } },
      ],
      "await": ["cas"]
    }
  },
  "ipvm/wasm": {
    "left": {
      "with": "QmLeftWasm",
      "inputs": [
        { "w": "Qm123456" },
        { "x": "Qmabcdef" },
        { "y": { "from": "effects/read-dns" } }
        { "z": "QmFooBar" },
      ],
      "outputs": ["a", "b"] <!-- FIXME component model instead? -->
    },
    "right": {
      "with": "bafyRightWasm",
      "inputs": [
        { "foo": { "from": "effects/read-dns" } },
        { "bar": "bafy123" }
      ],
      "outputs": ["a", "b"]
    },
    "end": {
      "with": "QmEndWasm",
      "inputs": [
        { "a": { "from": "left" } },
        { "b": { "from": "right" } },
        { "c": 123 }
      ]
    },
    "cas": {
      "with": "bafyCasWasm",
      "inputs": [
        { "initial": "effects/read-dns" },
        { "latest": "effects/check-dns" }
      ]
    }
  },
  "ipvm/exception": {
      "format-message": {
        "type": "ipvm/wasm",
        "with": "bafyHandlerWasm"
      }
  },
  "signature": "abcdef"
}
